<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="net.dao.servicedao">

<select id="searchallbook" resultType="books">
select * from books
</select>

<select id="searchbook" resultType="books" parameterType="String">
select * from books where bookName like CONCAT( '%',#{bookname} ,'%')
</select>

<select id="searchbookbyid" resultType="books" parameterType="int">
select * from books where bookID = #{id}
</select>

<select id="login" resultType="string">
select user from user where user = #{name} and pass = #{pass}
</select>

<select id="testnum" resultType="int">
select islock from user where user = #{name}
</select>

<select id="exituser" resultType="String">
select user from user where user = #{name}
</select>

<update id="testnumadd" >
update user set islock=#{lock} where user=#{name}
</update>

<update id="updatebook"  parameterType="books">
update books set bookName=#{bookName},bookCounts=#{bookCounts},detail=#{detail}  where bookID=#{bookID}
</update>

<insert id="addbook"  parameterType="books">
INSERT INTO books(bookName,bookCounts,detail) VALUES (#{bookName},#{bookCounts},#{detail});
</insert>

<delete id="deletebook"  parameterType="int">
delete from books where bookID = #{id}
</delete>
</mapper>